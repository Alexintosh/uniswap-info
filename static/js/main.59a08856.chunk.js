(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,n){e.exports=n(311)},126:function(e,t,n){},161:function(e,t){},163:function(e,t){},190:function(e,t){},235:function(e,t){},309:function(e,t,n){},311:function(e,t,n){"use strict";n.r(t);var a=n(0),u=n.n(a),o=n(114),s=n.n(o),i=(n(126),n(57)),p=n.n(i),r=n(115),l=n(116),m=n(117),d=n(119),y=n(118),c=n(120),h=n(18),b={address:"0x2C4Bd064b998838076fa341A83d007FC2FA50957",abi:[{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!0,name:"eth_sold",type:"uint256"},{indexed:!0,name:"tokens_bought",type:"uint256"}],name:"TokenPurchase",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!0,name:"tokens_sold",type:"uint256"},{indexed:!0,name:"eth_bought",type:"uint256"}],name:"EthPurchase",type:"event"},{name:"AddLiquidity",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"   ",indexed:!0},{type:"uint256",name:"token_amount",indexed:!0}],anonymous:!1,type:"event"},{name:"RemoveLiquidity",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"eth_amount",indexed:!0},{type:"uint256",name:"token_amount",indexed:!0}],anonymous:!1,type:"event"},{name:"Transfer",inputs:[{type:"address",name:"_from",indexed:!0},{type:"address",name:"_to",indexed:!0},{type:"uint256",name:"_value",indexed:!1}],anonymous:!1,type:"event"},{name:"Approval",inputs:[{type:"address",name:"_owner",indexed:!0},{type:"address",name:"_spender",indexed:!0},{type:"uint256",name:"_value",indexed:!1}],anonymous:!1,type:"event"},{name:"setup",outputs:[],inputs:[{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:175875},{name:"addLiquidity",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_liquidity"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:82616},{name:"removeLiquidity",outputs:[{type:"uint256",name:"out"},{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"amount"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:116814},{name:"__default__",outputs:[],inputs:[],constant:!1,payable:!0,type:"function"},{name:"ethToTokenSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:12757},{name:"ethToTokenTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!0,type:"function",gas:12965},{name:"ethToTokenSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:50463},{name:"ethToTokenTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!0,type:"function",gas:50671},{name:"tokenToEthSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:47503},{name:"tokenToEthTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!1,type:"function",gas:47712},{name:"tokenToEthSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:50175},{name:"tokenToEthTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!1,type:"function",gas:50384},{name:"tokenToTokenSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:51007},{name:"tokenToTokenTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:51098},{name:"tokenToTokenSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:54928},{name:"tokenToTokenTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:55019},{name:"tokenToExchangeSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:49342},{name:"tokenToExchangeTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:49532},{name:"tokenToExchangeSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:53233},{name:"tokenToExchangeTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:53423},{name:"getEthToTokenInputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_sold"}],constant:!0,payable:!1,type:"function",gas:5542},{name:"getEthToTokenOutputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"}],constant:!0,payable:!1,type:"function",gas:6872},{name:"getTokenToEthInputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"}],constant:!0,payable:!1,type:"function",gas:5637},{name:"getTokenToEthOutputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"}],constant:!0,payable:!1,type:"function",gas:6897},{name:"tokenAddress",outputs:[{type:"address",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1413},{name:"factoryAddress",outputs:[{type:"address",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1443},{name:"balanceOf",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"address",name:"_owner"}],constant:!0,payable:!1,type:"function",gas:1645},{name:"transfer",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_to"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:75034},{name:"transferFrom",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_from"},{type:"address",name:"_to"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:110907},{name:"approve",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_spender"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:38769},{name:"allowance",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"address",name:"_owner"},{type:"address",name:"_spender"}],constant:!0,payable:!1,type:"function",gas:1925},{name:"name",outputs:[{type:"bytes32",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1623},{name:"symbol",outputs:[{type:"bytes32",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1653},{name:"decimals",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1683},{name:"totalSupply",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1713}]},k=n(58),_=n.n(k);n(309);function f(e){return e.eventList.map(function(t){return function(e,t){var n="https://etherscan.io/tx/"+e.tx,a="https://etherscan.io/block/"+e.block,o="https://etherscan.io/address/"+e.provider,s="";return e.provider.toUpperCase()===t.toUpperCase()&&(s="myTransaction"),u.a.createElement("tr",{key:e.tx,className:s},u.a.createElement("td",null,u.a.createElement("a",{href:n,target:"_blank"},u.a.createElement("div",{className:"truncate"},e.tx))),u.a.createElement("td",null,u.a.createElement("a",{href:a,target:"_blank"},e.block)),u.a.createElement("td",null,(e.block,"2 min ago")),u.a.createElement("td",null,u.a.createElement("a",{href:o,target:"_blank"},u.a.createElement("div",{className:"truncate"},e.provider))),u.a.createElement("td",null,e.type),u.a.createElement("td",null,e.numEth),u.a.createElement("td",null,e.numTokens),u.a.createElement("td",null,e.curPoolShare),u.a.createElement("td",null,e.liquidtyProviderFee))}(t,e.myAddress)})}function v(e){return u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Transaction"),u.a.createElement("th",null,"Block"),u.a.createElement("th",null,"Time"),u.a.createElement("th",null,"Address"),u.a.createElement("th",null,"Event"),u.a.createElement("th",null,"Pool Adjustment (ETH)"),u.a.createElement("th",null,"Pool Adjustment (",e.tokenType,")"),u.a.createElement("th",null,"Pool Share"),u.a.createElement("th",null,"Provider Fee"))),u.a.createElement("tbody",null,f(e)))}var g=function(e){function t(){var e;(Object(l.a)(this,t),(e=Object(d.a)(this,Object(y.a)(t).call(this))).retrieveData=function(){"undefined"!==typeof web3?(e.web3Provider=window.web3.currentProvider,window.web3=new _.a(window.web3.currentProvider),window.web3.eth.getBlockNumber().then(function(t){var n=b.address,a=b.abi,u=new window.web3.eth.Contract(a,n);console.log(_.a.version),console.log(t),window.web3.eth.getCoinbase().then(function(t){null===t&&(t="Locked"),e.myAddress=t,e.setState({myAddress:t});var a={address:n,fromBlock:6629098,toBlock:"latest"},o=Object(h.a)(Object(h.a)(e));u.getPastEvents("allEvents",a).then(function(t){console.log(t);var n,a=[],u=0,s=0,i=0,p=0,r=0;t.forEach(function(t){var o,l,m=t.event,d={type:m,curPoolShare:0,numEth:0,numTokens:0,tx:t.transactionHash,provider:t.returnValues.provider,block:t.blockNumber,liquidtyProviderFee:"-"};if("AddLiquidity"===m)o=t.returnValues[1]/1e18,l=t.returnValues.token_amount/1e18,d.type="Add Liquidty";else if("RemoveLiquidity"===m)o=-t.returnValues.eth_amount/1e18,l=-t.returnValues.token_amount/1e18,d.type="Remove Liquidty";else if("TokenPurchase"===m)o=t.returnValues.eth_sold/1e18,l=-t.returnValues.tokens_bought/1e18,d.provider=t.returnValues.buyer,d.liquidtyProviderFee=-l*e.state.providerFeePercent+" MKR",d.type="Swap";else if("EthPurchase"===m)o=-t.returnValues.eth_bought/1e18,l=t.returnValues.tokens_sold/1e18,d.provider=t.returnValues.buyer,d.liquidtyProviderFee=-o*e.state.providerFeePercent+" ETH",d.type="Swap";else if("Transfer"==m){var y=t.returnValues[0],c=t.returnValues[1],h=t.returnValues[2]/1e18;return"0x0000000000000000000000000000000000000000"===c?(r-=h,y.toUpperCase()===e.myAddress.toUpperCase()&&(p-=h)):(r+=h,c.toUpperCase()===e.myAddress.toUpperCase()&&(p+=h)),i=p/r,i=Math.round(1e4*i)/1e4,0==(i=(i*=100).toFixed(2))?i="-":i+="%",void(n.curPoolShare=i)}n=d,u+=o,s+=l,d.numEth=o.toFixed(2),d.numTokens=l.toFixed(2),d.curPoolShare=i,a.push(d)}),a.reverse(),o.setState({eventList:a,curEthPoolTotal:u.toFixed(2),curTokenPoolTotal:s.toFixed(2),curPoolShare:i,myCollectedFees:"-"})})})})):e.isWeb3=!1},e.setNetwork=function(){if(0==typeof e.web3){var t=Object(h.a)(Object(h.a)(e));e.web3.eth.net.getId(function(e,n){t.setState({network:n})})}},e.appName="Uniswap Events",e.isWeb3=!0,e.isWeb3Locked=!1,e.tokenType="",e.providerFeePercent=0,e.curEthPoolTotal="",e.curTokenPoolTotal="",e.curPoolShare="",e.eventList=[],e.myAddress="",e.myCollectedFees="",e.state={myAddress:"Locked",curEthPoolTotal:"-",curTokenPoolTotal:"-",curPoolShare:"-",myCollectedFees:"-",tokenType:"MKR",providerFeePercent:.003},window.ethereum)?(function(){var t=Object(r.a)(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.ethereum.enable();case 3:e.retrieveData(),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),e.retrieveData();case 10:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}()(),e.retrieveData()):window.web3?e.retrieveData():e.isWeb3=!1;return e}return Object(c.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setNetwork()}},{key:"renderEvents",value:function(){return"undefined"===typeof this.state.eventList?u.a.createElement("div",null):u.a.createElement(v,{eventList:this.state.eventList,tokenType:this.state.tokenType,myAddress:this.state.myAddress})}},{key:"renderCoinbase",value:function(){return u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Address"),u.a.createElement("th",null,"Pool Size (ETH)"),u.a.createElement("th",null,"Pool Size (",this.state.tokenType,")"),u.a.createElement("th",null,"Pool Share"),u.a.createElement("th",null,"Accrued Fees"))),u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("div",{className:"truncate"},this.state.myAddress)),u.a.createElement("td",null,this.state.curEthPoolTotal),u.a.createElement("td",null,this.state.curTokenPoolTotal),u.a.createElement("td",null,this.state.curPoolShare),u.a.createElement("td",null,this.state.myCollectedFees))))}},{key:"render",value:function(){return this.isWeb3?u.a.createElement("div",null,this.renderCoinbase(),this.renderEvents()):u.a.createElement("div",{className:"InstallMetaMask"},u.a.createElement("div",null,u.a.createElement("img",{src:"./metamask-locked.png"}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("a",{href:"https://metamask.io/"},"Get MetaMask")))}}]),t}(u.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(u.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[121,2,1]]]);
//# sourceMappingURL=main.59a08856.chunk.js.map