(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,n){e.exports=n(307)},124:function(e,t,n){},157:function(e,t){},159:function(e,t){},186:function(e,t){},231:function(e,t){},305:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),u=n(113),s=n.n(u),i=(n(124),n(114)),p=n(115),r=n(117),l=n(116),d=n(118),m=n(18),y={address:"0x2C4Bd064b998838076fa341A83d007FC2FA50957",abi:[{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!0,name:"eth_sold",type:"uint256"},{indexed:!0,name:"tokens_bought",type:"uint256"}],name:"TokenPurchase",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!0,name:"tokens_sold",type:"uint256"},{indexed:!0,name:"eth_bought",type:"uint256"}],name:"EthPurchase",type:"event"},{name:"AddLiquidity",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"   ",indexed:!0},{type:"uint256",name:"token_amount",indexed:!0}],anonymous:!1,type:"event"},{name:"RemoveLiquidity",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"eth_amount",indexed:!0},{type:"uint256",name:"token_amount",indexed:!0}],anonymous:!1,type:"event"},{name:"Transfer",inputs:[{type:"address",name:"_from",indexed:!0},{type:"address",name:"_to",indexed:!0},{type:"uint256",name:"_value",indexed:!1}],anonymous:!1,type:"event"},{name:"Approval",inputs:[{type:"address",name:"_owner",indexed:!0},{type:"address",name:"_spender",indexed:!0},{type:"uint256",name:"_value",indexed:!1}],anonymous:!1,type:"event"},{name:"setup",outputs:[],inputs:[{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:175875},{name:"addLiquidity",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_liquidity"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:82616},{name:"removeLiquidity",outputs:[{type:"uint256",name:"out"},{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"amount"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:116814},{name:"__default__",outputs:[],inputs:[],constant:!1,payable:!0,type:"function"},{name:"ethToTokenSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:12757},{name:"ethToTokenTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!0,type:"function",gas:12965},{name:"ethToTokenSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:50463},{name:"ethToTokenTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!0,type:"function",gas:50671},{name:"tokenToEthSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:47503},{name:"tokenToEthTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!1,type:"function",gas:47712},{name:"tokenToEthSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:50175},{name:"tokenToEthTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!1,type:"function",gas:50384},{name:"tokenToTokenSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:51007},{name:"tokenToTokenTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:51098},{name:"tokenToTokenSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:54928},{name:"tokenToTokenTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:55019},{name:"tokenToExchangeSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:49342},{name:"tokenToExchangeTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:49532},{name:"tokenToExchangeSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:53233},{name:"tokenToExchangeTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:53423},{name:"getEthToTokenInputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_sold"}],constant:!0,payable:!1,type:"function",gas:5542},{name:"getEthToTokenOutputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"}],constant:!0,payable:!1,type:"function",gas:6872},{name:"getTokenToEthInputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"}],constant:!0,payable:!1,type:"function",gas:5637},{name:"getTokenToEthOutputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"}],constant:!0,payable:!1,type:"function",gas:6897},{name:"tokenAddress",outputs:[{type:"address",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1413},{name:"factoryAddress",outputs:[{type:"address",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1443},{name:"balanceOf",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"address",name:"_owner"}],constant:!0,payable:!1,type:"function",gas:1645},{name:"transfer",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_to"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:75034},{name:"transferFrom",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_from"},{type:"address",name:"_to"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:110907},{name:"approve",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_spender"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:38769},{name:"allowance",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"address",name:"_owner"},{type:"address",name:"_spender"}],constant:!0,payable:!1,type:"function",gas:1925},{name:"name",outputs:[{type:"bytes32",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1623},{name:"symbol",outputs:[{type:"bytes32",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1653},{name:"decimals",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1683},{name:"totalSupply",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1713}]},c=n(57),h=n.n(c);n(305);function b(e){return e.eventList.map(function(e){return function(e){var t="https://etherscan.io/tx/"+e.tx,n="https://etherscan.io/block/"+e.block,a="https://etherscan.io/address/"+e.provider,u="";return e.provider.toUpperCase()==="0xa7f3dfed2bcf7b35a8824e11ae8f723650edfb58".toUpperCase()&&(u="myTransaction"),o.a.createElement("tr",{key:e.tx,className:u},o.a.createElement("td",null,o.a.createElement("a",{href:t,target:"_blank"},o.a.createElement("div",{className:"truncate"},e.tx))),o.a.createElement("td",null,o.a.createElement("a",{href:n,target:"_blank"},e.block)),o.a.createElement("td",null,(e.block,"2 min ago")),o.a.createElement("td",null,o.a.createElement("a",{href:a,target:"_blank"},o.a.createElement("div",{className:"truncate"},e.provider))),o.a.createElement("td",null,e.type),o.a.createElement("td",null,e.numEth),o.a.createElement("td",null,e.numTokens),o.a.createElement("td",null,e.curPoolShare),o.a.createElement("td",null,e.liquidtyProviderFee))}(e)})}function k(e){return console.log(e.tokenType+" <<"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Transaction"),o.a.createElement("th",null,"Block"),o.a.createElement("th",null,"Time"),o.a.createElement("th",null,"Address"),o.a.createElement("th",null,"Event"),o.a.createElement("th",null,"Pool Adjustment (ETH)"),o.a.createElement("th",null,"Pool Adjustment (",e.tokenType,")"),o.a.createElement("th",null,"Pool Share"),o.a.createElement("th",null,"Provider Fee"))),o.a.createElement("tbody",null,b(e)))}var _=function(e){function t(){var e;Object(i.a)(this,t),(e=Object(r.a)(this,Object(l.a)(t).call(this))).setNetwork=function(){if(0==typeof e.web3){var t=Object(m.a)(Object(m.a)(e));e.web3.eth.net.getId(function(e,n){t.setState({network:n})})}},e.appName="Uniswap Events",e.isWeb3=!0,e.isWeb3Locked=!1,e.tokenType="",e.providerFeePercent=0,e.curEthPoolTotal="",e.curTokenPoolTotal="",e.curPoolShare="",e.eventList=[],e.myAddress="",e.myCollectedFees="",e.state={myAddress:"Locked",curEthPoolTotal:"-",curTokenPoolTotal:"-",curPoolShare:"-",myCollectedFees:"-",tokenType:"MKR",providerFeePercent:.003};var n=window.web3;return console.log(n.version),"undefined"!==typeof n?(e.web3Provider=n.currentProvider,(n=new h.a(n.currentProvider)).eth.getBlockNumber().then(function(t){var a=y.address,o=y.abi,u=new n.eth.Contract(o,a);console.log(h.a.version),console.log(t),n.eth.getCoinbase().then(function(t){null===t&&(t="Locked"),e.myAddress=t,e.setState({myAddress:t});var n={address:a,fromBlock:6629098,toBlock:"latest"},o=Object(m.a)(Object(m.a)(e));u.getPastEvents("allEvents",n).then(function(t){console.log(t);var n,a=[],u=0,s=0,i=0,p=0,r=0;t.forEach(function(t){var o,l,d=t.event,m={type:d,curPoolShare:0,numEth:0,numTokens:0,tx:t.transactionHash,provider:t.returnValues.provider,block:t.blockNumber,liquidtyProviderFee:"-"};if("AddLiquidity"===d)o=t.returnValues[1]/1e18,l=t.returnValues.token_amount/1e18,m.type="Add Liquidty";else if("RemoveLiquidity"===d)o=-t.returnValues.eth_amount/1e18,l=-t.returnValues.token_amount/1e18,m.type="Remove Liquidty";else if("TokenPurchase"===d)o=t.returnValues.eth_sold/1e18,l=-t.returnValues.tokens_bought/1e18,m.provider=t.returnValues.buyer,m.liquidtyProviderFee=-l*e.state.providerFeePercent+" MKR",m.type="Swap";else if("EthPurchase"===d)o=-t.returnValues.eth_bought/1e18,l=t.returnValues.tokens_sold/1e18,m.provider=t.returnValues.buyer,m.liquidtyProviderFee=-o*e.state.providerFeePercent+" ETH",m.type="Swap";else if("Transfer"==d){var y=t.returnValues[0],c=t.returnValues[1],h=t.returnValues[2]/1e18;return"0x0000000000000000000000000000000000000000"===c?(r-=h,y.toUpperCase()===e.myAddress.toUpperCase()&&(p-=h)):(r+=h,c.toUpperCase()===e.myAddress.toUpperCase()&&(p+=h)),i=p/r,i=Math.round(1e4*i)/1e4,0==(i=(i*=100).toFixed(2))?i="-":i+="%",void(n.curPoolShare=i)}n=m,u+=o,s+=l,m.numEth=o.toFixed(2),m.numTokens=l.toFixed(2),m.curPoolShare=i,a.push(m)}),a.reverse(),o.setState({eventList:a,curEthPoolTotal:u.toFixed(2),curTokenPoolTotal:s.toFixed(2),curPoolShare:i,myCollectedFees:"-"})})})})):e.isWeb3=!1,e}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setNetwork()}},{key:"renderEvents",value:function(){return"undefined"===typeof this.state.eventList?o.a.createElement("div",null):o.a.createElement(k,{eventList:this.state.eventList,tokenType:this.state.tokenType})}},{key:"renderCoinbase",value:function(){return o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Address"),o.a.createElement("th",null,"Pool Size (ETH)"),o.a.createElement("th",null,"Pool Size (",this.state.tokenType,")"),o.a.createElement("th",null,"Pool Share"),o.a.createElement("th",null,"Accrued Fees"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"truncate"},this.state.myAddress)),o.a.createElement("td",null,this.state.curEthPoolTotal),o.a.createElement("td",null,this.state.curTokenPoolTotal),o.a.createElement("td",null,this.state.curPoolShare),o.a.createElement("td",null,this.state.myCollectedFees))))}},{key:"render",value:function(){return this.isWeb3?o.a.createElement("div",null,this.renderCoinbase(),this.renderEvents()):o.a.createElement("div",null,"Install Metamask")}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[119,2,1]]]);
//# sourceMappingURL=main.b13706b3.chunk.js.map