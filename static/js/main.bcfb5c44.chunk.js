(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,n){e.exports=n(311)},126:function(e,t,n){},161:function(e,t){},163:function(e,t){},190:function(e,t){},235:function(e,t){},309:function(e,t,n){},311:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),u=n(113),s=n.n(u),r=(n(126),n(57)),i=n.n(r),d=n(114),p=n(115),c=n(116),l=n(119),m=n(117),y=n(120),f=n(29),h={initial:"ANT",tokens:{"0xBTC":"0x701564Aa6E26816147D4fa211a0779F1B774Bb9B",ADX:"0xb800445dd982C1311523fD465aC44f55093B2b5B",AGI:"0xdF02FFeaFdB79e564ae9fdaC6545C5f4c2178400",ANT:"0x077d52B047735976dfdA76feF74d4d988AC25196",ASTRO:"0xbd4479C98DC21563Ba822c3C206D8339698e2dd4",BAT:"0x2E642b8D59B45a1D8c5aEf716A84FF44ea665914",BOOTY:"0xEf465915f2D6d8183a7D5eE134A53f00c780d3E9",BORIS:"0x4E0E28d426caf318747B8E05C8B0564A580E39a7",BNTY:"0xD1f3e9B413f5c9Fd56F044699c64ff710E7e5A9A",BPT:"0xb2744df7BfbB4802F44fd1B1fD9012502d4AF704",BTU:"0xeA3A62838477082d8f2106c43796D636dc78d8A4",CND:"0x21B8a991A203A440c83450564FDefa3DB10A5004",CVC:"0x1C6c712b1F4a7c263B1DBd8F97fb447c945d3b9a",DNT:"0xaA3B3810c8AaDA6cBd2Ce262699903ad7AE6a7ef",DTH:"0xE18256CD23EFcDC4f95581e86f61EA1b09afD02a",e11:"0x4785cEDbd89C818D60988dc5979b029F3900B54b",ENTRP:"0xa1c467dC897a36689dbbADcC212B212b4f526E49",FUN:"0x60a87cC7Fca7E53867facB79DA73181B1bB4238B",GRID:"0x4B17685b330307C751B47f33890c8398dF4Fe407",GUSD:"0xD883264737Ed969d2696eE4B4cAF529c2Fc2A141",HBZ:"0xD1A8c5ba35752E4b62C71C795A3F6481FaA4D36e",HUM:"0x7d31fc38dDD7d6907F820F4268f1d8D5d5797826",ICN:"0x467fB51D54d7e51eE925F7f1a81AD5f2a0211169",KIWI:"0x380FDc8bB8722915076a09479d1bbC75e69c8Be0",LA:"0x28991ac221054bee3a38aE9aD0Fb3D0c3E45d0cF",LBA:"0xE79fE64771d5351b936eEaC6222682C3D878063E",LIF:"0x055BAb4bcC17d2AB155fff017fC5E093556C6aD2",LPT:"0xc4a1C45D5546029Fd57128483aE65b56124BFA6A",MKR:"0x2C4Bd064b998838076fa341A83d007FC2FA50957",MLN:"0xaec97872D14aC79e95Fff18c169BFd183efc6962",NMR:"0x2Bf5A5bA29E60682fC56B2Fcf9cE07Bef4F6196f",nUSD:"0x69f276aBd6456152d519D23086031DA7c73F91b8",PNK:"0xF506828B166de88cA2EDb2A98D960aBba0D2402A",PRG:"0x817e391bAf312Dc5078CD7A98a7A0255ac63Ca48",PTOY:"0xE8Bc0a210aAF86dAb4DD600facA5CfE492e2e084",REN:"0x43892992B0b102459E895B88601Bb2C76736942c",RHOC:"0x394e524b47A3AB3D3327f7fF6629dC378c1494a3",SALT:"0xC0C59cDe851bfcbdddD3377EC10ea54A18Efb937",SAN:"0x8a8D7aD4b89D91983cd069C58C4AA9F2f4166298",SIM:"0x174dFb6E6E78C95678580b553eeE7F282B28C795",NEXO:"0x069C97DBA948175D10af4b2414969e0B88d44669",TRAC:"0x38577ccec0cefFD178FD3Be66e1c6f531BFa410e",VERI:"0x17e5BF07D696eaf0d14caA4B44ff8A1E17B34de3",WETH:"0xA2881A90Bf33F03E7a3f803765Cd2ED5c8928dFb"}},b={abi:[{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!0,name:"eth_sold",type:"uint256"},{indexed:!0,name:"tokens_bought",type:"uint256"}],name:"TokenPurchase",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!0,name:"tokens_sold",type:"uint256"},{indexed:!0,name:"eth_bought",type:"uint256"}],name:"EthPurchase",type:"event"},{name:"AddLiquidity",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"   ",indexed:!0},{type:"uint256",name:"token_amount",indexed:!0}],anonymous:!1,type:"event"},{name:"RemoveLiquidity",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"eth_amount",indexed:!0},{type:"uint256",name:"token_amount",indexed:!0}],anonymous:!1,type:"event"},{name:"Transfer",inputs:[{type:"address",name:"_from",indexed:!0},{type:"address",name:"_to",indexed:!0},{type:"uint256",name:"_value",indexed:!1}],anonymous:!1,type:"event"},{name:"Approval",inputs:[{type:"address",name:"_owner",indexed:!0},{type:"address",name:"_spender",indexed:!0},{type:"uint256",name:"_value",indexed:!1}],anonymous:!1,type:"event"},{name:"setup",outputs:[],inputs:[{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:175875},{name:"addLiquidity",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_liquidity"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:82616},{name:"removeLiquidity",outputs:[{type:"uint256",name:"out"},{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"amount"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:116814},{name:"__default__",outputs:[],inputs:[],constant:!1,payable:!0,type:"function"},{name:"ethToTokenSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:12757},{name:"ethToTokenTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!0,type:"function",gas:12965},{name:"ethToTokenSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:50463},{name:"ethToTokenTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!0,type:"function",gas:50671},{name:"tokenToEthSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:47503},{name:"tokenToEthTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!1,type:"function",gas:47712},{name:"tokenToEthSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:50175},{name:"tokenToEthTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!1,type:"function",gas:50384},{name:"tokenToTokenSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:51007},{name:"tokenToTokenTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:51098},{name:"tokenToTokenSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:54928},{name:"tokenToTokenTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:55019},{name:"tokenToExchangeSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:49342},{name:"tokenToExchangeTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:49532},{name:"tokenToExchangeSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:53233},{name:"tokenToExchangeTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:53423},{name:"getEthToTokenInputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_sold"}],constant:!0,payable:!1,type:"function",gas:5542},{name:"getEthToTokenOutputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"}],constant:!0,payable:!1,type:"function",gas:6872},{name:"getTokenToEthInputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"}],constant:!0,payable:!1,type:"function",gas:5637},{name:"getTokenToEthOutputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"}],constant:!0,payable:!1,type:"function",gas:6897},{name:"tokenAddress",outputs:[{type:"address",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1413},{name:"factoryAddress",outputs:[{type:"address",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1443},{name:"balanceOf",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"address",name:"_owner"}],constant:!0,payable:!1,type:"function",gas:1645},{name:"transfer",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_to"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:75034},{name:"transferFrom",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_from"},{type:"address",name:"_to"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:110907},{name:"approve",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_spender"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:38769},{name:"allowance",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"address",name:"_owner"},{type:"address",name:"_spender"}],constant:!0,payable:!1,type:"function",gas:1925},{name:"name",outputs:[{type:"bytes32",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1623},{name:"symbol",outputs:[{type:"bytes32",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1653},{name:"decimals",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1683},{name:"totalSupply",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1713}]},E=n(118),k=n.n(E);n(309);function _(e){return e.tokensInRow.map(function(e){var t="?factory="+e;return o.a.createElement("td",{key:e},o.a.createElement("a",{href:t},o.a.createElement("b",null,e)))})}function x(e){var t=[];t.push([]);for(var n=Object.keys(h.tokens),a=0;a<n.length;a++){6==t[t.length-1].length&&t.push([]);var u=n[a];t[t.length-1].push(u)}return t.map(function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement(_,{tokensInRow:e}))})}function g(e){return e.eventList.map(function(t){return function(e,t){var n="https://etherscan.io/tx/"+e.tx,a="https://etherscan.io/block/"+e.block,u="https://etherscan.io/address/"+e.provider,s="";return e.provider.toUpperCase()===t.toUpperCase()&&(s="myTransaction"),o.a.createElement("tr",{key:e.tx,className:s},o.a.createElement("td",null,o.a.createElement("a",{href:n,target:"_blank"},o.a.createElement("div",{className:"truncate"},e.tx))),o.a.createElement("td",null,o.a.createElement("a",{href:a,target:"_blank"},e.block)),o.a.createElement("td",null,(e.block,"-")),o.a.createElement("td",null,o.a.createElement("a",{href:u,target:"_blank"},o.a.createElement("div",{className:"truncate"},e.provider))),o.a.createElement("td",null,e.type),o.a.createElement("td",null,e.numEth),o.a.createElement("td",null,e.numTokens),o.a.createElement("td",null,e.curPoolShare),o.a.createElement("td",null,e.liquidtyProviderFee))}(t,e.myAddress)})}function v(e){return o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Transaction"),o.a.createElement("th",null,"Block"),o.a.createElement("th",null,"Time"),o.a.createElement("th",null,"Address"),o.a.createElement("th",null,"Event"),o.a.createElement("th",null,"Pool Adjustment (ETH)"),o.a.createElement("th",null,"Pool Adjustment (",e.curFactory,")"),o.a.createElement("th",null,"Pool Share"),o.a.createElement("th",null,"Provider Fee"))),o.a.createElement("tbody",null,g(e)))}var F=function(e){function t(){var e;Object(p.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).retrieveData=function(){if("undefined"!==typeof web3){if(e.web3Provider=window.web3.currentProvider,window.web3=new k.a(window.web3.currentProvider),0==e.state.curFactory.length)return;var t=h.tokens[e.state.curFactory],n=new window.web3.eth.Contract(b.abi,t);window.web3.eth.getCoinbase().then(function(a){null===a&&(a="Locked"),e.myAddress=a,e.setState({myAddress:a});var o={address:t,fromBlock:6627944,toBlock:"latest"},u=Object(f.a)(Object(f.a)(e));n.getPastEvents("allEvents",o).then(function(t){console.log(t);var n,a=[],o=0,s=0,r=0,i=0,d=0,p=0,c=0,l=0;t.forEach(function(t){var u,m,y=t.event,f={type:y,curPoolShare:0,numEth:0,numTokens:0,tx:t.transactionHash,provider:t.returnValues.provider,block:t.blockNumber,liquidtyProviderFee:"-"};if("AddLiquidity"===y)u=t.returnValues[1]/1e18,m=t.returnValues.token_amount/1e18,f.type="Add Liquidty",f.provider.toUpperCase()==e.state.myAddress.toUpperCase()&&(c+=u,l+=m);else if("RemoveLiquidity"===y)u=-t.returnValues.eth_amount/1e18,m=-t.returnValues.token_amount/1e18,f.type="Remove Liquidty",f.provider.toUpperCase()==e.state.myAddress.toUpperCase()&&(c+=u,l+=m);else if("TokenPurchase"===y)u=t.returnValues.eth_sold/1e18,m=-t.returnValues.tokens_bought/1e18,f.provider=t.returnValues.buyer,f.liquidtyProviderFee=(u*e.state.providerFeePercent).toFixed(5)+" ETH";else if("EthPurchase"===y)u=-t.returnValues.eth_bought/1e18,m=t.returnValues.tokens_sold/1e18,f.provider=t.returnValues.buyer,f.liquidtyProviderFee=(m*e.state.providerFeePercent).toFixed(5)+" "+e.state.curFactory;else if("Transfer"==y){var h=t.returnValues[0],b=t.returnValues[1],E=t.returnValues[2]/1e18;return"0x0000000000000000000000000000000000000000"===b?(p-=E,h.toUpperCase()===e.myAddress.toUpperCase()&&(d-=E)):(p+=E,b.toUpperCase()===e.myAddress.toUpperCase()&&(d+=E)),r=d/p,0==p&&(r=0),0==(i=(100*r).toFixed(2))?i="-":i+="%",void(n.curPoolShare=i)}n=f,o+=u,s+=m,f.numEth=u.toFixed(3),f.numTokens=m.toFixed(3),f.curPoolShare=i,a.push(f)}),a.reverse();var m=r*o-c,y=r*s-l;r.toFixed(2)<=0&&(m=0,y=0),m=0==m?"":m.toFixed(5)+" ETH",y=0==y?"":0==m.length?y.toFixed(5)+" "+e.state.curFactory:", "+y.toFixed(5)+" "+e.state.curFactory,u.setState({eventList:a,curEthPoolTotal:o.toFixed(2),curTokenPoolTotal:s.toFixed(2),curPoolShare:i,myCollectedEthFees:m,myCollectedTokenFees:y})})})}else e.isWeb3=!1},e.appName="Uniswap Events",e.isWeb3=!0,e.isWeb3Locked=!1,e.providerFeePercent=0,e.curEthPoolTotal="",e.curTokenPoolTotal="",e.curPoolShare="",e.eventList=[],e.myAddress="",e.myCollectedEthFees="",e.myCollectedTokenFees="";var n=h.initial,a=new URLSearchParams(window.location.search);(a.has("factory")&&(n=a.get("factory")),e.state={myAddress:"Locked",curEthPoolTotal:"-",curTokenPoolTotal:"-",curPoolShare:"-",myCollectedEthFees:"",myCollectedTokenFees:"",curFactory:n,providerFeePercent:.003},window.ethereum)?(function(){var t=Object(d.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.ethereum.enable();case 3:e.retrieveData(),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),e.retrieveData();case 10:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}()(),e.retrieveData()):window.web3?e.retrieveData():e.isWeb3=!1;return e}return Object(y.a)(t,e),Object(c.a)(t,[{key:"renderEvents",value:function(){return"undefined"===typeof this.state.eventList?o.a.createElement("img",{className:"LoadingImage",src:"./loading.gif"}):o.a.createElement(v,{eventList:this.state.eventList,curFactory:this.state.curFactory,myAddress:this.state.myAddress})}},{key:"renderCoinbase",value:function(){return o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Address"),o.a.createElement("th",null,"Pool Size (ETH)"),o.a.createElement("th",null,"Pool Size (",this.state.curFactory,")"),o.a.createElement("th",null,"Pool Share"),o.a.createElement("th",null,"Accrued Fees (Estimated)"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"truncate"},this.state.myAddress)),o.a.createElement("td",null,this.state.curEthPoolTotal),o.a.createElement("td",null,this.state.curTokenPoolTotal),o.a.createElement("td",null,this.state.curPoolShare),o.a.createElement("td",null,this.state.myCollectedEthFees,this.state.myCollectedTokenFees))))}},{key:"renderDropdown",value:function(){return o.a.createElement("table",{className:"token-selector"},o.a.createElement("tbody",null,o.a.createElement(x,null)))}},{key:"renderAttribution",value:function(){return o.a.createElement("p",{className:"attribution"},"Loading indicator from: ",o.a.createElement("a",{href:"https://www.behance.net/gallery/31234507/Open-source-Loading-GIF-Icons-Vol-1",target:"_blank"},"@hassan_gde"))}},{key:"render",value:function(){return this.isWeb3?o.a.createElement("div",null,this.renderDropdown(),this.renderCoinbase(),this.renderEvents(),this.renderAttribution()):o.a.createElement("div",{className:"InstallMetaMask"},o.a.createElement("div",null,o.a.createElement("img",{src:"./metamask-locked.png"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("a",{href:"https://metamask.io/"},"Get MetaMask")))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[121,2,1]]]);
//# sourceMappingURL=main.bcfb5c44.chunk.js.map