(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,n){e.exports=n(311)},126:function(e,t,n){},161:function(e,t){},163:function(e,t){},190:function(e,t){},235:function(e,t){},309:function(e,t,n){},311:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),u=n(114),s=n.n(u),i=(n(126),n(57)),r=n.n(i),p=n(115),l=n(116),d=n(117),m=n(119),y=n(118),c=n(120),h=n(29),k={address:"0x2C4Bd064b998838076fa341A83d007FC2FA50957",abi:[{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!0,name:"eth_sold",type:"uint256"},{indexed:!0,name:"tokens_bought",type:"uint256"}],name:"TokenPurchase",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!0,name:"tokens_sold",type:"uint256"},{indexed:!0,name:"eth_bought",type:"uint256"}],name:"EthPurchase",type:"event"},{name:"AddLiquidity",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"   ",indexed:!0},{type:"uint256",name:"token_amount",indexed:!0}],anonymous:!1,type:"event"},{name:"RemoveLiquidity",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"eth_amount",indexed:!0},{type:"uint256",name:"token_amount",indexed:!0}],anonymous:!1,type:"event"},{name:"Transfer",inputs:[{type:"address",name:"_from",indexed:!0},{type:"address",name:"_to",indexed:!0},{type:"uint256",name:"_value",indexed:!1}],anonymous:!1,type:"event"},{name:"Approval",inputs:[{type:"address",name:"_owner",indexed:!0},{type:"address",name:"_spender",indexed:!0},{type:"uint256",name:"_value",indexed:!1}],anonymous:!1,type:"event"},{name:"setup",outputs:[],inputs:[{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:175875},{name:"addLiquidity",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_liquidity"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:82616},{name:"removeLiquidity",outputs:[{type:"uint256",name:"out"},{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"amount"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:116814},{name:"__default__",outputs:[],inputs:[],constant:!1,payable:!0,type:"function"},{name:"ethToTokenSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:12757},{name:"ethToTokenTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"min_tokens"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!0,type:"function",gas:12965},{name:"ethToTokenSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"deadline"}],constant:!1,payable:!0,type:"function",gas:50463},{name:"ethToTokenTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!0,type:"function",gas:50671},{name:"tokenToEthSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:47503},{name:"tokenToEthTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_eth"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!1,type:"function",gas:47712},{name:"tokenToEthSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"}],constant:!1,payable:!1,type:"function",gas:50175},{name:"tokenToEthTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"},{type:"uint256",name:"max_tokens"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"}],constant:!1,payable:!1,type:"function",gas:50384},{name:"tokenToTokenSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:51007},{name:"tokenToTokenTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:51098},{name:"tokenToTokenSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:54928},{name:"tokenToTokenTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"token_addr"}],constant:!1,payable:!1,type:"function",gas:55019},{name:"tokenToExchangeSwapInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:49342},{name:"tokenToExchangeTransferInput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"},{type:"uint256",name:"min_tokens_bought"},{type:"uint256",name:"min_eth_bought"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:49532},{name:"tokenToExchangeSwapOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:53233},{name:"tokenToExchangeTransferOutput",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"},{type:"uint256",name:"max_tokens_sold"},{type:"uint256",name:"max_eth_sold"},{type:"uint256",name:"deadline"},{type:"address",name:"recipient"},{type:"address",name:"exchange_addr"}],constant:!1,payable:!1,type:"function",gas:53423},{name:"getEthToTokenInputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_sold"}],constant:!0,payable:!1,type:"function",gas:5542},{name:"getEthToTokenOutputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_bought"}],constant:!0,payable:!1,type:"function",gas:6872},{name:"getTokenToEthInputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"tokens_sold"}],constant:!0,payable:!1,type:"function",gas:5637},{name:"getTokenToEthOutputPrice",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256",name:"eth_bought"}],constant:!0,payable:!1,type:"function",gas:6897},{name:"tokenAddress",outputs:[{type:"address",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1413},{name:"factoryAddress",outputs:[{type:"address",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1443},{name:"balanceOf",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"address",name:"_owner"}],constant:!0,payable:!1,type:"function",gas:1645},{name:"transfer",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_to"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:75034},{name:"transferFrom",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_from"},{type:"address",name:"_to"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:110907},{name:"approve",outputs:[{type:"bool",name:"out"}],inputs:[{type:"address",name:"_spender"},{type:"uint256",name:"_value"}],constant:!1,payable:!1,type:"function",gas:38769},{name:"allowance",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"address",name:"_owner"},{type:"address",name:"_spender"}],constant:!0,payable:!1,type:"function",gas:1925},{name:"name",outputs:[{type:"bytes32",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1623},{name:"symbol",outputs:[{type:"bytes32",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1653},{name:"decimals",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1683},{name:"totalSupply",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1713}]},b=n(58),_=n.n(b);n(309);function f(e){return e.eventList.map(function(t){return function(e,t){var n="https://etherscan.io/tx/"+e.tx,a="https://etherscan.io/block/"+e.block,u="https://etherscan.io/address/"+e.provider,s="";return e.provider.toUpperCase()===t.toUpperCase()&&(s="myTransaction"),o.a.createElement("tr",{key:e.tx,className:s},o.a.createElement("td",null,o.a.createElement("a",{href:n,target:"_blank"},o.a.createElement("div",{className:"truncate"},e.tx))),o.a.createElement("td",null,o.a.createElement("a",{href:a,target:"_blank"},e.block)),o.a.createElement("td",null,(e.block,"2 min ago")),o.a.createElement("td",null,o.a.createElement("a",{href:u,target:"_blank"},o.a.createElement("div",{className:"truncate"},e.provider))),o.a.createElement("td",null,e.type),o.a.createElement("td",null,e.numEth),o.a.createElement("td",null,e.numTokens),o.a.createElement("td",null,e.curPoolShare),o.a.createElement("td",null,e.liquidtyProviderFee))}(t,e.myAddress)})}function E(e){return o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Transaction"),o.a.createElement("th",null,"Block"),o.a.createElement("th",null,"Time"),o.a.createElement("th",null,"Address"),o.a.createElement("th",null,"Event"),o.a.createElement("th",null,"Pool Adjustment (ETH)"),o.a.createElement("th",null,"Pool Adjustment (",e.tokenType,")"),o.a.createElement("th",null,"Pool Share"),o.a.createElement("th",null,"Provider Fee"))),o.a.createElement("tbody",null,f(e)))}var g=function(e){function t(){var e;(Object(l.a)(this,t),(e=Object(m.a)(this,Object(y.a)(t).call(this))).retrieveData=function(){"undefined"!==typeof web3?(e.web3Provider=window.web3.currentProvider,window.web3=new _.a(window.web3.currentProvider),window.web3.eth.getBlockNumber().then(function(t){var n=k.address,a=k.abi,o=new window.web3.eth.Contract(a,n);console.log(_.a.version),console.log(t),window.web3.eth.getCoinbase().then(function(t){null===t&&(t="Locked"),e.myAddress=t,e.setState({myAddress:t});var a={address:n,fromBlock:6629098,toBlock:"latest"},u=Object(h.a)(Object(h.a)(e));o.getPastEvents("allEvents",a).then(function(t){console.log(t);var n,a=[],o=0,s=0,i=0,r=0,p=0,l=0,d=0,m=0;t.forEach(function(t){var u=t.event,y={type:u,curPoolShare:0,numEth:0,numTokens:0,tx:t.transactionHash,provider:t.returnValues.provider,block:t.blockNumber,liquidtyProviderFee:"-"};if(!(t.blockNumber>=6738238)){var c,h;if("AddLiquidity"===u)c=t.returnValues[1]/1e18,h=t.returnValues.token_amount/1e18,y.type="Add Liquidty",y.provider.toUpperCase()==e.state.myAddress.toUpperCase()&&(d+=c,m+=h);else if("RemoveLiquidity"===u)c=-t.returnValues.eth_amount/1e18,h=-t.returnValues.token_amount/1e18,y.type="Remove Liquidty",y.provider.toUpperCase()==e.state.myAddress.toUpperCase()&&(d+=c,m+=h);else if("TokenPurchase"===u)c=t.returnValues.eth_sold/1e18,h=-t.returnValues.tokens_bought/1e18,y.provider=t.returnValues.buyer,y.liquidtyProviderFee=(c*e.state.providerFeePercent).toFixed(5)+" ETH";else if("EthPurchase"===u)c=-t.returnValues.eth_bought/1e18,h=t.returnValues.tokens_sold/1e18,y.provider=t.returnValues.buyer,y.liquidtyProviderFee=(h*e.state.providerFeePercent).toFixed(5)+" "+e.state.tokenType;else if("Transfer"==u){var k=t.returnValues[0],b=t.returnValues[1],_=t.returnValues[2]/1e18;return"0x0000000000000000000000000000000000000000"===b?(l-=_,k.toUpperCase()===e.myAddress.toUpperCase()&&(p-=_)):(l+=_,b.toUpperCase()===e.myAddress.toUpperCase()&&(p+=_)),0==(r=(100*(i=p/l)).toFixed(2))?r="-":r+="%",void(n.curPoolShare=r)}n=y,o+=c,s+=h,y.numEth=c.toFixed(3),y.numTokens=h.toFixed(3),y.curPoolShare=r,a.push(y)}}),a.reverse();var y=i*o-d;y=0==y?"":y.toFixed(5)+" ETH";var c=i*s-m;c=0==c?"":0==y.length?c.toFixed(5)+" "+e.state.tokenType:", "+c.toFixed(5)+" "+e.state.tokenType,u.setState({eventList:a,curEthPoolTotal:o.toFixed(2),curTokenPoolTotal:s.toFixed(2),curPoolShare:r,myCollectedEthFees:y,myCollectedTokenFees:c})})})})):e.isWeb3=!1},e.appName="Uniswap Events",e.isWeb3=!0,e.isWeb3Locked=!1,e.tokenType="",e.providerFeePercent=0,e.curEthPoolTotal="",e.curTokenPoolTotal="",e.curPoolShare="",e.eventList=[],e.myAddress="",e.myCollectedEthFees="",e.myCollectedTokenFees="",e.state={myAddress:"Locked",curEthPoolTotal:"-",curTokenPoolTotal:"-",curPoolShare:"-",myCollectedEthFees:"",myCollectedTokenFees:"",tokenType:"MKR",providerFeePercent:.003},window.ethereum)?(function(){var t=Object(p.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.ethereum.enable();case 3:e.retrieveData(),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),e.retrieveData();case 10:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}()(),e.retrieveData()):window.web3?e.retrieveData():e.isWeb3=!1;return e}return Object(c.a)(t,e),Object(d.a)(t,[{key:"renderEvents",value:function(){return"undefined"===typeof this.state.eventList?o.a.createElement("img",{className:"LoadingImage",src:"./loading.gif"}):o.a.createElement(E,{eventList:this.state.eventList,tokenType:this.state.tokenType,myAddress:this.state.myAddress})}},{key:"renderCoinbase",value:function(){return o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Address"),o.a.createElement("th",null,"Pool Size (ETH)"),o.a.createElement("th",null,"Pool Size (",this.state.tokenType,")"),o.a.createElement("th",null,"Pool Share"),o.a.createElement("th",null,"Accrued Fees (Estimated)"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"truncate"},this.state.myAddress)),o.a.createElement("td",null,this.state.curEthPoolTotal),o.a.createElement("td",null,this.state.curTokenPoolTotal),o.a.createElement("td",null,this.state.curPoolShare),o.a.createElement("td",null,this.state.myCollectedEthFees,this.state.myCollectedTokenFees))))}},{key:"render",value:function(){return this.isWeb3?o.a.createElement("div",null,this.renderCoinbase(),this.renderEvents()):o.a.createElement("div",{className:"InstallMetaMask"},o.a.createElement("div",null,o.a.createElement("img",{src:"./metamask-locked.png"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("a",{href:"https://metamask.io/"},"Get MetaMask")))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[121,2,1]]]);
//# sourceMappingURL=main.f5a253c7.chunk.js.map